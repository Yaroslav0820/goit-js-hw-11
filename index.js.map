{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nexport const BASE_URL = 'https://pixabay.com/api/';\nexport const API_KEY = '46110623-cffeede45492ee1adb33fe3c4';\n\nexport function fetchImages(query) {\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n    });\n\n    return fetch(`${BASE_URL}?${params}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('Sorry, there are no images matching your search query. Please try again!');\n            }\n            return response.json();\n        });\n}","export function renderImages(images) {\n    return images.reduce((acc, item) => {\n        return (\n            acc +\n            `<article class=\"gallery-item\">\n                <a href=\"${item.largeImageURL}\" class=\"gallery-link\">\n                    <img src=\"${item.webformatURL}\" alt=\"${item.tags}\" class=\"gallery-image\" />\n                </a>\n                <ul class=\"info\">\n                    <li class=\"info-item\"><strong>Likes:</strong> ${item.likes}</li>\n                    <li class=\"info-item\"><strong>Views:</strong> ${item.views}</li>\n                    <li class=\"info-item\"><strong>Comments:</strong> ${item.comments}</li>\n                    <li class=\"info-item\"><strong>Downloads:</strong> ${item.downloads}</li>\n                </ul>\n            </article>`\n        );\n    }, '');\n}","\nimport { fetchImages } from './js/pixabay-api.js';\nimport { renderImages } from './js/render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst searchForm = document.querySelector('.search-form');\nconst imagesBoxEl = document.querySelector('.gallery');\nconst loaderEl = document.querySelector('.loader'); \nlet gallery = null;\n\n// показ завантажувача виправлення\nfunction showLoader() {\n    loaderEl.style.display = 'block';\n}\n\n//приховування завантажувача виправлення\nfunction hideLoader() {\n    loaderEl.style.display = 'none';\n}\n\n\n// подія форми \nsearchForm.addEventListener('submit', event => {\n    event.preventDefault();\n    \n    const query = event.target.elements.query.value.trim();\n\n    if (!query) {\n        return; \n    }\n\n    imagesBoxEl.innerHTML =\n     showLoader();    '';\n\n    fetchImages(query)\n        .then(data => {\n            const { hits } = data;\n            \n            if (hits.length === 0) {\n                throw new Error('No images found for this search query.');\n            }\n\n            const imagesMarkup = renderImages(hits);\n            imagesBoxEl.innerHTML = imagesMarkup;\n\n            //SimpleLightbox\n            if (gallery) {\n                gallery.refresh();\n            } else {\n                gallery = new SimpleLightbox('.gallery a', {\n                    captions: true,\n                    captionDelay: 250,\n                });\n            }\n        })\n        .catch(error => {\n            iziToast.error({\n                title: 'Error',\n                message: error.message,\n            });\n        })\n    .finally(() => {\n        hideLoader();\n    });\n});"],"names":["BASE_URL","API_KEY","fetchImages","query","params","response","renderImages","images","acc","item","searchForm","imagesBoxEl","loaderEl","gallery","showLoader","hideLoader","event","data","hits","imagesMarkup","SimpleLightbox","error","iziToast"],"mappings":"iyBACO,MAAMA,EAAW,2BACXC,EAAU,qCAEhB,SAASC,EAAYC,EAAO,CAC/B,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EAED,OAAO,MAAM,GAAGH,CAAQ,IAAII,CAAM,EAAE,EAC/B,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,0EAA0E,EAE9F,OAAOA,EAAS,MAC5B,CAAS,CACT,CCpBO,SAASC,EAAaC,EAAQ,CACjC,OAAOA,EAAO,OAAO,CAACC,EAAKC,IAEnBD,EACA;AAAA,2BACeC,EAAK,aAAa;AAAA,gCACbA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA,oEAGAA,EAAK,KAAK;AAAA,oEACVA,EAAK,KAAK;AAAA,uEACPA,EAAK,QAAQ;AAAA,wEACZA,EAAK,SAAS;AAAA;AAAA,wBAI/E,EAAE,CACT,CCTA,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAW,SAAS,cAAc,SAAS,EACjD,IAAIC,EAAU,KAGd,SAASC,GAAa,CAClBF,EAAS,MAAM,QAAU,OAC7B,CAGA,SAASG,GAAa,CAClBH,EAAS,MAAM,QAAU,MAC7B,CAIAF,EAAW,iBAAiB,SAAUM,GAAS,CAC3CA,EAAM,eAAc,EAEpB,MAAMb,EAAQa,EAAM,OAAO,SAAS,MAAM,MAAM,OAE3Cb,IAILQ,EAAY,UACXG,IAEDZ,EAAYC,CAAK,EACZ,KAAKc,GAAQ,CACV,KAAM,CAAE,KAAAC,CAAM,EAAGD,EAEjB,GAAIC,EAAK,SAAW,EAChB,MAAM,IAAI,MAAM,wCAAwC,EAG5D,MAAMC,EAAeb,EAAaY,CAAI,EACtCP,EAAY,UAAYQ,EAGpBN,EACAA,EAAQ,QAAO,EAEfA,EAAU,IAAIO,EAAe,aAAc,CACvC,SAAU,GACV,aAAc,GAClC,CAAiB,CAEjB,CAAS,EACA,MAAMC,GAAS,CACZC,EAAS,MAAM,CACX,MAAO,QACP,QAASD,EAAM,OAC/B,CAAa,CACb,CAAS,EACJ,QAAQ,IAAM,CACXN,GACR,CAAK,EACL,CAAC"}